{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import api from'../services/api';import Button from'../components/ui/Button';import Card from'../components/ui/Card';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const QuizzesPage=()=>{const[quizzes,setQuizzes]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const navigate=useNavigate();useEffect(()=>{const fetchQuizzes=async()=>{try{const{data}=await api.get('/admin/quizzes');setQuizzes(data);}catch(err){setError('Erreur de chargement des quiz');}finally{setLoading(false);}};fetchQuizzes();},[]);const handleDelete=async id=>{if(!window.confirm('Supprimer ce quiz définitivement?'))return;try{await api.delete('/admin/quizzes/${id}');setQuizzes(quizzes.filter(q=>q._id!==id));}catch(err){setError('Échec de la suppression');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:\"Gestion des Quiz\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>navigate('/admin/quizzes/new'),children:\"Cr\\xE9er un Quiz\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 text-red-700 p-4 rounded-lg mb-6\",children:error}),loading?/*#__PURE__*/_jsx(\"div\",{children:\"Chargement des quiz...\"}):quizzes.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Aucun quiz disponible\"}),/*#__PURE__*/_jsx(Button,{className:\"mt-4\",onClick:()=>navigate('/admin/quizzes/new'),children:\"Cr\\xE9er votre premier quiz\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:quizzes.map(quiz=>/*#__PURE__*/_jsx(Card,{className:\"relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:quiz.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:quiz.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm\",children:quiz.category}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-green-100 text-green-800 px-2 py-1 rounded text-sm\",children:quiz.difficulty})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>navigate('/admin/quizzes/edit/${quiz._id}'),children:\"\\xC9diter\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",size:\"sm\",onClick:()=>handleDelete(quiz._id),children:\"Supprimer\"})]})]})},quiz._id))})]});};export default QuizzesPage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","api","Button","Card","jsx","_jsx","jsxs","_jsxs","QuizzesPage","quizzes","setQuizzes","loading","setLoading","error","setError","navigate","fetchQuizzes","data","get","err","handleDelete","id","window","confirm","delete","filter","q","_id","className","children","onClick","length","map","quiz","title","description","category","difficulty","variant","size"],"sources":["C:/xampp/htdocs/CARABIN-QUIZ/frontend/src/admin/QuizzesPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport api from '../services/api';\r\nimport Button from '../components/ui/Button';\r\nimport Card from '../components/ui/Card';\r\n\r\nconst QuizzesPage = () => {\r\n  const [quizzes, setQuizzes] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchQuizzes = async () => {\r\n      try {\r\n        const { data } = await api.get('/admin/quizzes');\r\n        setQuizzes(data);\r\n      } catch (err) {\r\n        setError('Erreur de chargement des quiz');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchQuizzes();\r\n  }, []);\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm('Supprimer ce quiz définitivement?')) return;\r\n    \r\n    try {\r\n      await api.delete('/admin/quizzes/${id}');\r\n      setQuizzes(quizzes.filter(q => q._id !== id));\r\n    } catch (err) {\r\n      setError('Échec de la suppression');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-6\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-2xl font-bold\">Gestion des Quiz</h1>\r\n        <Button onClick={() => navigate('/admin/quizzes/new')}>\r\n          Créer un Quiz\r\n        </Button>\r\n      </div>\r\n\r\n      {error && <div className=\"bg-red-100 text-red-700 p-4 rounded-lg mb-6\">{error}</div>}\r\n\r\n      {loading ? (\r\n        <div>Chargement des quiz...</div>\r\n      ) : quizzes.length === 0 ? (\r\n        <div className=\"text-center py-12\">\r\n          <p>Aucun quiz disponible</p>\r\n          <Button className=\"mt-4\" onClick={() => navigate('/admin/quizzes/new')}>\r\n            Créer votre premier quiz\r\n          </Button>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {quizzes.map(quiz => (\r\n            <Card key={quiz._id} className=\"relative\">\r\n              <div className=\"flex justify-between items-start\">\r\n                <div>\r\n                  <h3 className=\"text-xl font-bold\">{quiz.title}</h3>\r\n                  <p className=\"text-gray-600 mt-2\">{quiz.description}</p>\r\n                  <div className=\"mt-4 flex items-center gap-2\">\r\n                    <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm\">\r\n                      {quiz.category}\r\n                    </span>\r\n                    <span className=\"bg-green-100 text-green-800 px-2 py-1 rounded text-sm\">\r\n                      {quiz.difficulty}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex gap-2\">\r\n                  <Button \r\n                    variant=\"outline\" \r\n                    size=\"sm\"\r\n                    onClick={() => navigate('/admin/quizzes/edit/${quiz._id}')}\r\n                  >\r\n                    Éditer\r\n                  </Button>\r\n                  <Button \r\n                    variant=\"danger\" \r\n                    size=\"sm\"\r\n                    onClick={() => handleDelete(quiz._id)}\r\n                  >\r\n                    Supprimer\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuizzesPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}