{"ast":null,"code":"// Copie dans frontend/src/admin/QuizEditor.jsx\nimport React,{useEffect,useState}from'react';import QuizForm from'../components/QuizForm';import api from'../services/api';import{useParams,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const QuizEditor=()=>{const{id}=useParams();const navigate=useNavigate();const[initial,setInitial]=useState(null);const[loading,setLoading]=useState(!!id);useEffect(()=>{if(!id)return;(async()=>{setLoading(true);try{const res=await api.get(\"/admin/quizzes/\".concat(id));setInitial(res.data);}catch(err){console.error(err);}finally{setLoading(false);}})();},[id]);const handleSave=async quiz=>{try{if(id){await api.put(\"/admin/quizzes/\".concat(id),quiz);}else{await api.post('/admin/quizzes',quiz);}navigate('/admin/quizzes');}catch(err){console.error(err);alert('Erreur lors de l\\'enregistrement');}};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Chargement...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4\",children:id?'Modifier le quiz':'Créer un quiz'}),/*#__PURE__*/_jsx(QuizForm,{onSave:handleSave,initial:initial})]});};export default QuizEditor;","map":{"version":3,"names":["React","useEffect","useState","QuizForm","api","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","QuizEditor","id","navigate","initial","setInitial","loading","setLoading","res","get","concat","data","err","console","error","handleSave","quiz","put","post","alert","children","className","onSave"],"sources":["C:/xampp/htdocs/CARABIN-QUIZ/frontend/src/admin/QuizEditor.jsx"],"sourcesContent":["// Copie dans frontend/src/admin/QuizEditor.jsx\r\nimport React, { useEffect, useState } from 'react';\r\nimport QuizForm from '../components/QuizForm';\r\nimport api from '../services/api';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\n\r\nconst QuizEditor = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [initial, setInitial] = useState(null);\r\n  const [loading, setLoading] = useState(!!id);\r\n\r\n  useEffect(() => {\r\n    if (!id) return;\r\n    (async () => {\r\n      setLoading(true);\r\n      try {\r\n        const res = await api.get(`/admin/quizzes/${id}`);\r\n        setInitial(res.data);\r\n      } catch (err) {\r\n        console.error(err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, [id]);\r\n\r\n  const handleSave = async (quiz) => {\r\n    try {\r\n      if (id) {\r\n        await api.put(`/admin/quizzes/${id}`, quiz);\r\n      } else {\r\n        await api.post('/admin/quizzes', quiz);\r\n      }\r\n      navigate('/admin/quizzes');\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('Erreur lors de l\\'enregistrement');\r\n    }\r\n  };\r\n\r\n  if (loading) return <div>Chargement...</div>;\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-6\">\r\n      <h1 className=\"text-2xl font-bold mb-4\">{id ? 'Modifier le quiz' : 'Créer un quiz'}</h1>\r\n      <QuizForm onSave={handleSave} initial={initial} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuizEditor;"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CACjC,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1D,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAEC,EAAG,CAAC,CAAGP,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAQ,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACQ,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,CAAC,CAACU,EAAE,CAAC,CAE5CX,SAAS,CAAC,IAAM,CACd,GAAI,CAACW,EAAE,CAAE,OACT,CAAC,SAAY,CACXK,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAd,GAAG,CAACe,GAAG,mBAAAC,MAAA,CAAmBR,EAAE,CAAE,CAAC,CACjDG,UAAU,CAACG,GAAG,CAACG,IAAI,CAAC,CACtB,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CAAC,OAAS,CACRL,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,EAAE,CAAC,CACN,CAAC,CAAE,CAACL,EAAE,CAAC,CAAC,CAER,KAAM,CAAAa,UAAU,CAAG,KAAO,CAAAC,IAAI,EAAK,CACjC,GAAI,CACF,GAAId,EAAE,CAAE,CACN,KAAM,CAAAR,GAAG,CAACuB,GAAG,mBAAAP,MAAA,CAAmBR,EAAE,EAAIc,IAAI,CAAC,CAC7C,CAAC,IAAM,CACL,KAAM,CAAAtB,GAAG,CAACwB,IAAI,CAAC,gBAAgB,CAAEF,IAAI,CAAC,CACxC,CACAb,QAAQ,CAAC,gBAAgB,CAAC,CAC5B,CAAE,MAAOS,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAClBO,KAAK,CAAC,kCAAkC,CAAC,CAC3C,CACF,CAAC,CAED,GAAIb,OAAO,CAAE,mBAAOR,IAAA,QAAAsB,QAAA,CAAK,eAAa,CAAK,CAAC,CAE5C,mBACEpB,KAAA,QAAKqB,SAAS,CAAC,uBAAuB,CAAAD,QAAA,eACpCtB,IAAA,OAAIuB,SAAS,CAAC,yBAAyB,CAAAD,QAAA,CAAElB,EAAE,CAAG,kBAAkB,CAAG,eAAe,CAAK,CAAC,cACxFJ,IAAA,CAACL,QAAQ,EAAC6B,MAAM,CAAEP,UAAW,CAACX,OAAO,CAAEA,OAAQ,CAAE,CAAC,EAC/C,CAAC,CAEV,CAAC,CAED,cAAe,CAAAH,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}